#!/usr/bin/env bash

run_vagrant_up() {
	# vagrant waaaaay up
	# =============================================================================
	cd "$path" || error "Could not change directory."
	if [[ "$skip_restart" = "false" ]]; then
		info "Running vagrant up --provision... "
		hook "pre_vagrant_provision"
		vagrant up --provision
		hook "post_vagrant_provision"
	fi
}

vagrant_maybe_halt() {
	# Test if VVV is running, using `VBoxManage` because it's much faster than `vagrant status`
	VMTEST="$(VBoxManage list runningvms)"
	if [[ $VMTEST = *VVV* ]]; then
		info "Running \`vagrant halt\`"
		vagrant halt
	else
		info "Vagrant not running, skipping \`vagrant halt\`..."
	fi
}
